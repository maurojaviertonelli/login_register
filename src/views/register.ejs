<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="public/css/style.css">
    <title>Register</title>
</head>
<!--<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="/public/css/style.css" />

    <title>Register</title>
</head>-->
<body class="bg-animated" >
    <div class="register-form">
        <h1>REGISTRATE</h1>
        <form action="/register" method="POST" enctype="multipart/form-data">
            <label for="user">Email</label>
            <input type="email" name="user" placeholder="Ingresar Email" value="<%=locals.oldData?oldData.user:null%>" required/> 
            <span class = "error" id = "errorUser"></span>
                        <% if(locals.errors && errors.user) {%>
                            <p class="validationProfile"><%= errors.user.msg %></p> 
                            <% } %>
            <label for="name">Nombre y Apellido</label>
            <input type="text" name="name" placeholder="Ingresar nombre y apellido completos" value="<%=locals.oldData?oldData.name:null%>" required>
            <span class = "error" id = "errorName"></span>
                        <% if(locals.errors && errors.name) {%>
                            <p class="validationProfile"><%= errors.name.msg %></p> 
                            <% } %>
            <label for="rol">Rol</label>
            <select name="rol" id="rol" class="select-css">
                <option value="admin" selected>Admin</option>
                <option value="data entry">Data entry</option>
            </select>

            <label for="pass">Contraseña</label>
            <input type="password" name="pass" placeholder= "Ingresar contraseña" value="<%=locals.oldData?oldData.pass:null%>" required>
            <span class = "error" id = "errorPassword"></span>
                        <% if(locals.errors && errors.pass) {%>
                            <p class="validationProfile"><%= errors.pass.msg %></p> 
                            <% } %>

                            
            <label for="avatar">Su Avatar</label>
            <input type="file" name="avatar" accept=".gif,.jpg,.jpeg,.png" >
                        <% if(locals.errors && errors.avatar) { %>
                            <p class="validationProfile"><%= errors.avatar.msg %></p>  
                            <% } %> 
                            <img src="/public/img/Avatar.svg" height="40px" alt="imagen avatar usuario" id="avatar"/>
                           

            <div style="display: inline;">
                <a href="/" class="btn-cancel">Cancel</a><input type="submit" class="btn-save" value="Save"> 
            </div>
        </form>
    </div>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <% if(typeof alert != "undefined") {%>
        <script>
        swal.fire({
            title:'<%= alertTitle %>',
            text:'<%= alertMessage %>',
            icon:'<%=alertIcon %>',
            showConfirmButton:'<%=showConfirmButton %>',
            timer:'<%=timer %>'

        }).then(()=>{
            window.location='<%=ruta %>'
        })
        </script> 
        <% } %> 
    
</body>
</html>